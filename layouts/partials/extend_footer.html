<!-- 
    è·¯å¾„: layouts/partials/extend_footer.html 
    åŠŸèƒ½: ç‰©ç†ä¸»é¢˜èƒŒæ™¯å±‚ã€èƒ½é‡æ„Ÿä¾§è¾¹è£…é¥°ã€ç‰©ç†æ•™ç ”é¡µè„šï¼ˆå«ç»Ÿè®¡ä¸èº«ä»½æ ‡è¯†ï¼‰åŠç®¡ç†å·¥å…·
-->

<!-- 1. èƒŒæ™¯å±‚å®¹å™¨ (å¯¹åº” extend_head.html ä¸­çš„æ ·å¼å˜é‡) -->
<div id="custom-bg-layer"></div>
<div id="bg-overlay-layer"></div>

<!-- 2. ä¾§è¾¹æ‚¬æµ®è£…é¥°æ¡† (ç‰©ç†å­¦ç§‘å®šåˆ¶) -->
<div class="floating-panel pos-l">
    <div class="panel-content">ç‰©ç†é€»è¾‘ Â· ç®—æ³•æ¨æ¼”</div>
</div>

<div class="floating-panel pos-r">
    <div class="panel-content">èƒ½é‡å®ˆæ’ Â· æ™ºæ…§èµ‹èƒ½</div>
</div>

<!-- 3. é¡µè„šè‡ªå®šä¹‰å†…å®¹åŒº -->
<div class="footer-custom" style="text-align:center; padding:50px 20px; margin-top:80px; border-top:1px solid #e2e8f0; color:#64748b; font-size:0.9rem;">
    <!-- èº«ä»½æ ‡è¯†åŒºï¼šè¯¾é¢˜ç»„ä¸å…¬ä¼—å· -->
    <div onclick="loginAdmin()" style="cursor:pointer; margin-bottom:25px; display:flex; justify-content:center; gap:15px; align-items:center; flex-wrap:wrap;">
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="background:var(--theme); color:white; padding:4px 12px; border-radius:6px; font-weight:bold; box-shadow:0 4px 12px rgba(139, 92, 246, 0.3);">AI ç‰©ç†è¯¾é¢˜ç»„</span>
            <strong style="color:var(--primary); font-family:'JetBrains Mono', monospace;">@Logic Simulation Lab</strong>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="background:#0f172a; color:white; padding:4px 12px; border-radius:6px; font-weight:bold;">å…¬ä¼—å·</span>
            <strong style="color:var(--primary);">@æµ…å¢¨é’è¨€</strong>
        </div>
    </div>

    <!-- å®æ—¶æ•°ç†æ—¶é’Ÿ -->
    <div id="realtime-clock" style="font-family:'JetBrains Mono', monospace; color:var(--theme); font-weight:700; margin-bottom:15px; letter-spacing:1px;">
        ENERGY_SYSTEM_SCANNING...
    </div>
    
    <!-- æµè§ˆæ•°æ®ç»Ÿè®¡åŒº (ç‰©ç†æœ¯è¯­åŒ–) -->
    <div style="font-size:0.85rem; line-height:2; opacity:0.9;">
        <span id="busuanzi_container_site_uv" style="display:inline; margin-right: 20px;">
            ğŸ”­ è®¿å®¢æ³¢æ®µ: <span id="busuanzi_value_site_uv" style="color:var(--theme); font-weight:bold;">--</span>
        </span>
        <span id="busuanzi_container_site_pv" style="display:inline;">
            âš¡ èƒ½é‡æ€»è®¡: <span id="busuanzi_value_site_pv" style="color:var(--theme); font-weight:bold;">--</span>
        </span>
        <br/>
        <span style="margin-top: 8px; display: block; letter-spacing: 1px; font-family:'JetBrains Mono';">ENTROPY DECREASING Â· WISDOM INCREASING</span>
    </div>
</div>

<!-- 4. ç®¡ç†å‘˜å·¥å…·ç®± (å£ä»¤: admin888) -->
<div id="admin-tools">
    <div id="admin-panel" style="display:none; position:fixed; bottom:90px; right:30px; background:white; padding:20px; border-radius:15px; box-shadow:0 10px 40px rgba(0,0,0,0.2); width:280px; border:1px solid #f1f5f9; z-index:999;">
        <h4 style="margin:0 0 15px 0; color:var(--theme); border-bottom:2px solid var(--theme); display:inline-block; font-family:'JetBrains Mono';">âš›ï¸ Physics Admin</h4>
        
        <!-- èƒŒæ™¯æ›´æ¢é¢„è§ˆ -->
        <p style="font-size:12px; color:#94a3b8; margin:10px 0 5px 0;">èƒ½é‡åœºèƒŒæ™¯é¢„è§ˆ (URL):</p>
        <div style="display:flex; gap:5px; margin-bottom:15px;">
            <input type="text" id="bg-input" placeholder="è¾“å…¥å®éªŒç´ æURL..." style="flex:1; padding:6px; border:1px solid #e2e8f0; border-radius:6px; font-size:11px; outline:none;">
            <button onclick="previewBg()" style="padding:6px 12px; background:var(--theme); color:white; border:none; border-radius:6px; cursor:pointer; font-size:11px; font-weight:600;">Update</button>
        </div>

        <!-- å†™ç¨¿æ¨¡æ¿ -->
        <p style="font-size:12px; color:#94a3b8; margin-bottom:5px;">æ•™ç ”å†…å®¹ç”Ÿæˆï¼š</p>
        <button onclick="genPhyTemplate()" style="width:100%; padding:8px; background:var(--primary); color:white; border:none; border-radius:6px; cursor:pointer; font-size:11px; font-weight:600;">ç”Ÿæˆç‰©ç†å®éªŒæ¨¡æ¿</button>
        
        <textarea id="admin-output" style="width:100%; height:80px; font-size:10px; padding:5px; border:1px solid #eee; background:#f9f9f9; display:none; margin-top:10px; resize:none; font-family:'JetBrains Mono'; color:#666;"></textarea>
    </div>
    
    <!-- æ‚¬æµ®ç®¡ç†æŒ‰é’® -->
    <div id="toggle-admin" style="display:none; position:fixed; bottom:30px; right:30px; width:46px; height:46px; background:var(--primary); color:white; border-radius:50%; justify-content:center; align-items:center; cursor:pointer; font-size:1.4rem; box-shadow:0 8px 24px rgba(0,0,0,0.3); z-index:1000; transition: transform 0.2s;" onclick="toggleAdminPanel()">âš™ï¸</div>
</div>

<!-- 5. æ ¸å¿ƒé€»è¾‘è„šæœ¬ -->
<script>
    // --- 5.1 å®æ—¶æ•°ç†æ—¶é’Ÿ ---
    function updateClock() {
        const now = new Date();
        const timeString = now.toLocaleString('zh-CN', { 
            hour12: false,
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit'
        });
        const el = document.getElementById('realtime-clock');
        if (el) el.innerHTML = timeString + " [ENERGY_STABLE]";
    }
    setInterval(updateClock, 1000);
    updateClock();

    // --- 5.2 ç®¡ç†ç™»å½•é€»è¾‘ (å£ä»¤: admin888) ---
    function loginAdmin() {
        const key = prompt("è¯·è¾“å…¥é‡å­åŠ å¯†å¯†é’¥ï¼š");
        if (key === "admin888") {
            const btn = document.getElementById('toggle-admin');
            if (btn) btn.style.display = 'flex';
            sessionStorage.setItem('phy_admin_active', 'true');
            alert("âœ“ èƒ½é‡åœºè®¿é—®æƒé™å·²è§£é”");
        } else if (key !== null) {
            alert("âœ— å¯†é’¥é”™è¯¯ï¼Œé€»è¾‘éªŒè¯æœªé€šè¿‡");
        }
    }

    // --- 5.3 é¢æ¿åˆ‡æ¢ ---
    function toggleAdminPanel() {
        const panel = document.getElementById('admin-panel');
        if (panel) {
            panel.style.display = (panel.style.display === 'none') ? 'block' : 'none';
        }
    }

    // --- 5.4 èƒŒæ™¯å®æ—¶é¢„è§ˆ ---
    function previewBg() {
        const url = document.getElementById('bg-input').value.trim();
        if (url) {
            document.documentElement.style.setProperty('--global-bg', `url('${url}')`);
        }
    }

    // --- 5.5 ç”Ÿæˆç‰©ç†å®éªŒæ–‡ç« æ¨¡æ¿ ---
    function genPhyTemplate() {
        const output = document.getElementById('admin-output');
        const title = prompt("è¯·è¾“å…¥å®éªŒæ–‡ç« æ ‡é¢˜ï¼š") || "åŸºäº AI çš„é‡å­å¹²æ¶‰ä»¿çœŸæ•™å­¦";
        const template = `---
title: "${title}"
date: ${new Date().toISOString()}
draft: false
author: "ç‰©ç†è¯¾é¢˜ç»„"
description: "æœ¬æ–‡åˆ©ç”¨ AI ç”Ÿæˆçš„ä»¿çœŸè„šæœ¬æ¢è®¨äº†é«˜äºŒç‰©ç†ä¸­..."
tags: ["AI", "ç‰©ç†å®éªŒ", "é‡å­åŠ›å­¦"]
---

### 1. å®éªŒé€»è¾‘æ¨¡å‹
é€šè¿‡å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹æ„å»ºå—åŠ›åˆ†æçŸ©é˜µ...

### 2. ä»¿çœŸå‚æ•°è®¾å®š
$$F = m \cdot a$$
æ­¤å¤„æ’å…¥ AI ç”Ÿæˆçš„ä»£ç ç‰‡æ®µæˆ–å…¬å¼ã€‚

### 3. ç»“æœæ¢æ
æ•°æ®æ‹Ÿåˆæ˜¾ç¤º...`;

        output.style.display = 'block';
        output.value = template;
        output.select();
        try {
            document.execCommand('copy');
            alert("âœ“ ç‰©ç†å®éªŒæ¨¡æ¿å·²ç”Ÿæˆå¹¶å¤åˆ¶");
        } catch (e) {}
    }

    // çŠ¶æ€ä¿æŒ
    window.addEventListener('DOMContentLoaded', () => {
        if (sessionStorage.getItem('phy_admin_active') === 'true') {
            const btn = document.getElementById('toggle-admin');
            if (btn) btn.style.display = 'flex';
        }
    });
</script>

<!-- 6. ä¸è’œå­è®¿é—®ç»Ÿè®¡è„šæœ¬ -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>